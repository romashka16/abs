# –ü–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏ Whisper - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ MFA

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

–ü–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏ Whisper - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –∞—É–¥–∏–æ, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ MFA, –Ω–æ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- üöÄ **–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- üéØ **–¢–æ—á–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏** - –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –∏–º–µ–µ—Ç —Å–≤–æ–µ –≤—Ä–µ–º—è
- üíª **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä–µ–µ MFA
- üîß **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –¢–æ—á–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
|-------|----------|----------|-----------|--------------|
| –û–±—ã—á–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã | 85-90% | –ë—ã—Å—Ç—Ä–æ | –ü—Ä–æ—Å—Ç–æ | ‚úÖ |
| **–ü–æ—Å–ª–æ–≤–Ω—ã–µ Whisper** | **92-95%** | **–°—Ä–µ–¥–Ω–µ** | **–ü—Ä–æ—Å—Ç–æ** | **‚úÖ** |
| MFA | 95-98% | –ú–µ–¥–ª–µ–Ω–Ω–æ | –°–ª–æ–∂–Ω–æ | ‚ùå |

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –í–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏

–í —Ñ–∞–π–ª–µ `config.py`:
```python
USE_WORD_LEVEL_WHISPER = True
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É

```bash
python main.py
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ò–∑–≤–ª–µ—á–µ—Ç –∞—É–¥–∏–æ –∏–∑ –≤–∏–¥–µ–æ
2. –í—ã–ø–æ–ª–Ω–∏—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Å –ø–æ—Å–ª–æ–≤–Ω—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏
3. –°–æ–∑–¥–∞—Å—Ç ASS —Å—É–±—Ç–∏—Ç—Ä—ã —Å —Ç–æ—á–Ω—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞
4. –ù–∞–ª–æ–∂–∏—Ç —Å—É–±—Ç–∏—Ç—Ä—ã –Ω–∞ –≤–∏–¥–µ–æ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è**: Whisper —Å `word_timestamps=True` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤**: –ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –ø–æ–ª—É—á–∞–µ—Ç `start` –∏ `end` –≤—Ä–µ–º—è
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤**: –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è ASS —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞
4. **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è TikTok —Å—Ç–∏–ª—å

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```json
{
  "words": [
    {
      "word": "–ü—Ä–∏–≤–µ—Ç",
      "start": 0.5,
      "end": 0.8
    },
    {
      "word": "–º–∏—Ä",
      "start": 0.9,
      "end": 1.2
    }
  ]
}
```

–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ ASS —Å—É–±—Ç–∏—Ç—Ä—ã:
```
Dialogue: 0,0:00:00.40,0:00:00.90,TikTokStyle,,0,0,0,,{\an5}–ü—Ä–∏–≤–µ—Ç
Dialogue: 0,0:00:00.80,0:00:01.30,TikTokStyle,,0,0,0,,{\an5}–º–∏—Ä
```

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∏–ª–µ–π

–°—Ç–∏–ª–∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `create_word_level_ass`:

```python
style.fontname = "Anton"           # –®—Ä–∏—Ñ—Ç
style.fontsize = 28               # –†–∞–∑–º–µ—Ä
style.primarycolor = pysubs2.Color(255, 128, 0)  # –û—Ä–∞–Ω–∂–µ–≤—ã–π
style.outlinecolor = pysubs2.Color(0, 0, 0)      # –ß–µ—Ä–Ω–∞—è –æ–±–≤–æ–¥–∫–∞
style.bold = True                 # –ñ–∏—Ä–Ω—ã–π
style.alignment = 2               # –ü–æ —Ü–µ–Ω—Ç—Ä—É
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Whisper

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `transcribe_word_level`:

```python
result = model.transcribe(
    wav_path, 
    language='ru',                # –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
    task='transcribe',            # –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
    verbose=True,                 # –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
    word_timestamps=True,         # –ü–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏
    condition_on_previous_text=True,  # –£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    temperature=0.0               # –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
)
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
python test_system.py
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. **JSON —Ñ–∞–π–ª**: `{video_name}.srt.json` - —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏
2. **ASS —Ñ–∞–π–ª**: `{video_name}.ass` - –≥–æ—Ç–æ–≤—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã
3. **–í–∏–¥–µ–æ**: `{video_name}_subtitled.mp4` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –õ–æ–≥–∏

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
```
üéØ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏ Whisper...
üé§ –ù–∞—á–∏–Ω–∞–µ–º –ø–æ—Å–ª–æ–≤–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é: audio.wav
üìù –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ —Å–ª–æ–≤ —Å —Ç–∞–π–º–∏–Ω–≥–∞–º–∏: 45
üé® –°–æ–∑–¥–∞–µ–º ASS —Å—É–±—Ç–∏—Ç—Ä—ã —Å –ø–æ—Å–ª–æ–≤–Ω—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏
‚úÖ ASS —Ñ–∞–π–ª —Å –ø–æ—Å–ª–æ–≤–Ω—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏ —Å–æ–∑–¥–∞–Ω: video.ass
üéØ –í–∏–¥–µ–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –ø–æ—Å–ª–æ–≤–Ω—ã–º–∏ —Ç–∞–π–º–∏–Ω–≥–∞–º–∏ Whisper
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Whisper –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
pip install openai-whisper
```

### –ù–µ—Ç –ø–æ—Å–ª–æ–≤–Ω—ã—Ö —Ç–∞–π–º–∏–Ω–≥–æ–≤
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `word_timestamps=True`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (medium/large)

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å (tiny/base)
2. –£–º–µ–Ω—å—à–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞—É–¥–∏–æ
3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ

### –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
1. –£–ª—É—á—à–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞—É–¥–∏–æ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à—É—é –º–æ–¥–µ–ª—å (medium/large)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ `extract_audio.py`

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞:
```python
WHISPER_MODEL_SIZE = "large"  # –í config.py
```

### –î–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã:
```python
WHISPER_MODEL_SIZE = "base"   # –í config.py
```

### –î–ª—è –±–∞–ª–∞–Ω—Å–∞:
```python
WHISPER_MODEL_SIZE = "medium" # –í config.py (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–æ–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏ Whisper - —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ MFA –¥–ª—è Windows –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏**
- ‚úÖ **–î–∞–µ—Ç —Ç–æ—á–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ Windows**
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!** 